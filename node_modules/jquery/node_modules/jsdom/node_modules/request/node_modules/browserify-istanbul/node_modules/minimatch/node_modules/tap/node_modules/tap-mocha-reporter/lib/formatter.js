// A formatter is a Duplex stream that TAP data is written into,
// and then something else (presumably not-TAP) is read from.
//
// See tap-classic.js for an example of a formatter in use.

var Duplex = require('stream').Duplex
if (!Duplex) {
  try {
    Duplex = require('readable-stream').Duplex
  } catch (er) {
    throw new Error('Please install "readable-stream" to use this module ' +
                    'with Node.js v0.8 and before')
  }
}

var util = require('util')
var Parser = require('tap-parser'