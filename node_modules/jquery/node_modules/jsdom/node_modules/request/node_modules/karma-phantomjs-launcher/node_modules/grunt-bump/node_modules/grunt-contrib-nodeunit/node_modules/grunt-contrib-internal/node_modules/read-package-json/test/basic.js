var fs = require('fs')
var path = require('path')

var tap = require('tap')

var readJson = require('../')

var readme = fs.readFileSync(path.resolve(__dirname, '../README.md'), 'utf8')
var pkg = require('../package.json')
var isGit
try {
  fs.readFileSync(path.resolve(__dirname, '../.git/HEAD'))
  isGit = true
} catch (e) {
  isGit = false
}

tap.test('basic test', function (t) {
  var p = path.resolve(__dirname, '../package.json')
  readJson(p, function (er, data) {
    if (er) throw er
    basic_(t, data